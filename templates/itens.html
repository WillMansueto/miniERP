{% extends 'base.html' %}

{% block content %}
{% for message in get_flashed_messages() %}
  <article class="message is-success">
      <div class="message-body">
          <p>{{ message }}</p>
      </div>
  </article>
{% endfor %}
  <h1>{% block title %}Items{% endblock %}</h1>

  <form method="POST">
    <div class="row">
      <div class='six columns'>
        <div class='field'>
          {{ form.hidden_tag() }}
          {{ form.id_item.label(class='label') }}
          {{ form.id_item(class='u-full-width') }}
        </div>
      </div>
      <div class='six columns'>
        <div class='field'>
          {{ form.nome_item.label(class='label') }}
          {{ form.nome_item(class='u-full-width') }}
        </div>
      </div>
    </div>
    <div class="row">
      <div class='six columns'>
        <div class="field">
          {{ form.submit(class='button') }}
        </div>
      </div>
    </div>
  </form>

    <table id="item-table">
      <thead>
          <tr>
              <th>CÃ³digo do Item</th>
              <th>Nome do Item</th>
              <th>Deletar</th>
          </tr>
      </thead>
      <tbody>
          {% for item in items %}
              <tr>
                  <td> {{ item[0] }} </td>
                  <td> {{ item[1] }} </td>
                  <td><a class="button" href="{{ url_for('item_delete', id=item[0]) }}"> delete</a></td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
  <script>
    $(document).ready(function() {
        var emailTable = $('#item-table').DataTable();
    });
  </script>
{% endblock %}